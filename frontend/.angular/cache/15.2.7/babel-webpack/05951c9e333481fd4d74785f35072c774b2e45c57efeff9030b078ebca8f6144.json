{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/app-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../add-product/add-product.component\";\nimport * as i5 from \"../edit-product/edit-product.component\";\nimport * as i6 from \"../delete-product/delete-product.component\";\nfunction ProductsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \" loading... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_li_7_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"i\", 16);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_li_7_div_5_Template_i_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.editProductModal(true));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"i\", 17);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_li_7_div_5_Template_i_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.deleteProductModal(true));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/product\", a1];\n};\nfunction ProductsComponent_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 10)(1, \"div\", 11)(2, \"a\", 12)(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, ProductsComponent_li_7_div_5_Template, 3, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 14);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r5 = ctx.$implicit;\n    const idx_r6 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, idx_r6));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r5.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.localToken);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r5.description);\n  }\n}\nfunction ProductsComponent_app_add_product_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-add-product\", 18);\n    i0.ɵɵlistener(\"addProductModal\", function ProductsComponent_app_add_product_8_Template_app_add_product_addProductModal_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.addProductModal(false));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_app_edit_product_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-edit-product\", 19);\n    i0.ɵɵlistener(\"editProductModal\", function ProductsComponent_app_edit_product_9_Template_app_edit_product_editProductModal_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.editProductModal(false));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_app_delete_product_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-delete-product\", 20);\n    i0.ɵɵlistener(\"deleteProductModal\", function ProductsComponent_app_delete_product_10_Template_app_delete_product_deleteProductModal_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.deleteProductModal(false));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ProductsComponent {\n  constructor(api, router) {\n    this.api = api;\n    this.router = router;\n    this.loading = false;\n    this.displayAddProductModal = false; //display button when user records exists in db\n    this.displayEditProductModal = false;\n    this.displayDeleteProductModal = false;\n  }\n  // products = [\n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }, \n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }, \n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" },\n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }, \n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" },\n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }\n  // ]\n  // toggle 'add product' modal\n  addProductModal(value) {\n    this.displayAddProductModal = value;\n  }\n  // toggle 'edit product' modal \n  editProductModal(value) {\n    this.displayEditProductModal = value;\n  }\n  // toggle 'delete product' modal\n  deleteProductModal(value) {\n    this.displayDeleteProductModal = value;\n  }\n  ngOnInit() {\n    this.loading = true;\n    this.localToken = localStorage.getItem('user_token');\n    this.api.getAllProducts().subscribe({\n      next: res => {\n        this.loading = false;\n        this.products = res;\n        console.log(res);\n        this.router.navigate(['/all-products']);\n      },\n      error: () => {\n        this.loading = false;\n        console.log('could not get products');\n      }\n    });\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.AppServiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 11,\n  vars: 5,\n  consts: [[1, \"product-container\"], [1, \"btn\", \"btn-primary\", \"new-product-button\", 3, \"click\"], [1, \"bi\", \"bi-plus-circle-fill\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"all-products\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [3, \"addProductModal\", 4, \"ngIf\"], [3, \"editProductModal\", 4, \"ngIf\"], [3, \"deleteProductModal\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"card\"], [1, \"product-header\"], [3, \"routerLink\"], [\"class\", \"options\", 4, \"ngIf\"], [1, \"product-body\"], [1, \"options\"], [1, \"bi\", \"bi-pencil-square\", \"text-primary\", 3, \"click\"], [1, \"bi\", \"bi-trash3-fill\", \"text-danger\", 3, \"click\"], [3, \"addProductModal\"], [3, \"editProductModal\"], [3, \"deleteProductModal\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_a_click_1_listener() {\n        return ctx.addProductModal(true);\n      });\n      i0.ɵɵtext(2, \" Add New Product \\u00A0 \");\n      i0.ɵɵelement(3, \"i\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, ProductsComponent_div_4_Template, 2, 0, \"div\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"ul\");\n      i0.ɵɵtemplate(7, ProductsComponent_li_7_Template, 8, 6, \"li\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(8, ProductsComponent_app_add_product_8_Template, 1, 0, \"app-add-product\", 6);\n      i0.ɵɵtemplate(9, ProductsComponent_app_edit_product_9_Template, 1, 0, \"app-edit-product\", 7);\n      i0.ɵɵtemplate(10, ProductsComponent_app_delete_product_10_Template, 1, 0, \"app-delete-product\", 8);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayAddProductModal);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayEditProductModal);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayDeleteProductModal);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i4.AddProductComponent, i5.EditProductComponent, i6.DeleteProductComponent],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 424:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(75:1) /Users/leom/Desktop/openfabric-angular-test/frontend/src/app/components/products/products.component.css At-rule without name\\\\n\\\\n \\\\u001b[90m 73 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 74 | \\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 75 | \\\\u001b[39m\\\\u001b[36m@\\\\u001b[39m\\\\n \\\\u001b[90m    | \\\\u001b[39m\\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n\\\");\\n\\n })\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n \\t\\n \\t//[_ngcontent-%COMP%]   startup[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n \\t__webpack_modules__[424]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=products.component.css.map*/\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductsComponent","constructor","api","router","addProductModal","value","displayAddProductModal","editProductModal","displayEditProductModal","deleteProductModal","displayDeleteProductModal","ngOnInit","loading","localToken","localStorage","getItem","getAllProducts","subscribe","next","res","products","console","log","navigate","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/leom/Desktop/openfabric-angular-test/frontend/src/app/components/products/products.component.html","/Users/leom/Desktop/openfabric-angular-test/frontend/src/app/components/products/products.component.ts"],"sourcesContent":["<div class=\"product-container\" >\n\n    <a (click)=\"addProductModal(true)\" class=\"btn btn-primary new-product-button\">\n        Add New Product &nbsp;\n        <i class=\"bi bi-plus-circle-fill\"></i>\n    </a>\n\n\n    <div *ngIf=\"loading\" class=\"text-center\">\n        loading...\n    </div>\n    <div class=\"all-products\">\n        <ul>\n            <li \n                *ngFor=\"let product of products; let idx = index\" \n                class=\"card\">\n                    <div class=\"product-header\">\n                        <a [routerLink]=\"['/product', idx]\">\n                            <h2>{{ product.name }}</h2>\n                        </a>\n                        <div class=\"options\" *ngIf=\"localToken\">\n                            <i\n                            (click)=\"editProductModal(true)\"\n                            class=\"bi bi-pencil-square text-primary\"></i>\n                            <i\n                            (click)=\"deleteProductModal(true)\"\n                            class=\"bi bi-trash3-fill text-danger\"></i>\n                        </div>\n                    </div>\n                    <p class=\"product-body\">{{ product.description }}</p>\n            </li>\n        </ul>\n    </div>\n    <!-- <div class=\"no-product\" [ngClass]=\"products.length === 0 ? 'd-block' : 'd-none' \">\n        Products will display here\n    </div>  -->\n\n    <app-add-product\n        *ngIf=\"displayAddProductModal\"\n        (addProductModal)=\"addProductModal(false)\"></app-add-product>\n    <app-edit-product\n        *ngIf=\"displayEditProductModal\"\n        (editProductModal)=\"editProductModal(false)\"></app-edit-product>\n    <app-delete-product \n        *ngIf=\"displayDeleteProductModal\"\n        (deleteProductModal)=\"deleteProductModal(false)\"></app-delete-product>\n</div>\n","import { Component, Output, EventEmitter, OnInit } from '@angular/core';\nimport { AppServiceService } from 'src/app/service/app-service.service';\nimport { Router } from '@angular/router';\n\n\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css'],\n})\nexport class ProductsComponent implements OnInit {\n\n  constructor( \n    private api: AppServiceService,\n    private router: Router\n    ){}\n\n  products!: any;\n  loading = false;\n  localToken!: string | null;\n  displayAddProductModal: boolean = false; //display button when user records exists in db\n  displayEditProductModal: boolean = false;\n  displayDeleteProductModal: boolean = false;\n\n  // products = [\n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }, \n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }, \n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" },\n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }, \n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" },\n  //   { name: \"Fish hook\", description: \"For baiting and catching fish\"},\n  //   { name: \"Anonymitter\", description: \"The Anonymous identifier\" }\n  // ]\n\n\n\n  // toggle 'add product' modal\n  addProductModal(value: boolean){ \n    this.displayAddProductModal = value;\n  }\n\n // toggle 'edit product' modal \n  editProductModal(value: boolean){\n    this.displayEditProductModal = value;\n  }\n\n  // toggle 'delete product' modal\n  deleteProductModal(value: boolean){\n    this.displayDeleteProductModal = value;\n  }\n\n  ngOnInit(): void {\n    this.loading = true;\n\n    this.localToken = localStorage.getItem('user_token')\n\n    this.api.getAllProducts().subscribe({\n      next: (res) => {\n        this.loading = false;\n        this.products = res;\n        console.log(res);\n        this.router.navigate(['/all-products']);\n      },\n      error: () => {\n        this.loading = false;\n        console.log('could not get products')}\n    })\n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}