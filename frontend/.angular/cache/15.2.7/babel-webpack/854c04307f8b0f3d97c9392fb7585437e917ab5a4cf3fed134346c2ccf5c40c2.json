{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/app-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../add-product/add-product.component\";\nimport * as i5 from \"../edit-product/edit-product.component\";\nimport * as i6 from \"../delete-product/delete-product.component\";\nfunction ProductsComponent_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_a_1_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addProductModal(true));\n    });\n    i0.ɵɵtext(1, \" Add New Product \\u00A0 \");\n    i0.ɵɵelement(2, \"i\", 7);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1, \" loading... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_app_add_product_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-add-product\", 9);\n    i0.ɵɵlistener(\"addProductModal\", function ProductsComponent_app_add_product_3_Template_app_add_product_addProductModal_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.addProductModal(false));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_app_edit_product_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-edit-product\", 10);\n    i0.ɵɵlistener(\"closeEditModal\", function ProductsComponent_app_edit_product_4_Template_app_edit_product_closeEditModal_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.closeEditModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"id\", ctx_r3.p_id)(\"pr_name\", ctx_r3.p_name)(\"price\", ctx_r3.p_price)(\"pr_description\", ctx_r3.p_desc);\n  }\n}\nfunction ProductsComponent_app_delete_product_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-delete-product\", 11);\n    i0.ɵɵlistener(\"closeDeleteModal\", function ProductsComponent_app_delete_product_5_Template_app_delete_product_closeDeleteModal_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.closeDeleteModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"productId\", ctx_r4.p_id)(\"productName\", ctx_r4.p_name);\n  }\n}\nexport class ProductsComponent {\n  constructor(api, router) {\n    this.api = api;\n    this.router = router;\n    this.loading = false;\n    this.displayAddProductModal = false; //display button when user records exists in db\n    this.displayEditProductModal = false;\n    this.displayDeleteProductModal = false;\n  }\n  // toggle 'add product' modal\n  addProductModal(value) {\n    this.displayAddProductModal = value;\n  }\n  // toggle 'edit product' modal \n  showEditModal(id, name, price, description) {\n    this.displayEditProductModal = true;\n    this.p_id = id;\n    this.p_name = name;\n    this.p_price = price;\n    this.p_desc = description;\n  }\n  closeEditModal() {\n    this.displayEditProductModal = false;\n    this.p_id = '';\n    this.p_name = '';\n    this.p_price = 0;\n    this.p_desc = '';\n  }\n  // toggle 'delete product' modal\n  showDeleteModal(id, name) {\n    this.displayDeleteProductModal = true;\n    this.p_id = id;\n    this.p_name = name;\n  }\n  closeDeleteModal() {\n    this.displayDeleteProductModal = false;\n    this.p_id = '';\n    this.p_name = '';\n  }\n  ngOnInit() {\n    this.loading = true;\n    this.localToken = localStorage.getItem('user_token');\n    if (!this.localToken) {\n      this.loading = false;\n    }\n    this.api.getAllProducts().subscribe(data => {\n      this.loading = false;\n      this.products = data;\n      console.log(data);\n    });\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.AppServiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 6,\n  vars: 5,\n  consts: [[1, \"product-container\"], [\"class\", \"btn btn-primary new-product-button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [3, \"addProductModal\", 4, \"ngIf\"], [3, \"id\", \"pr_name\", \"price\", \"pr_description\", \"closeEditModal\", 4, \"ngIf\"], [3, \"productId\", \"productName\", \"closeDeleteModal\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", \"new-product-button\", 3, \"click\"], [1, \"bi\", \"bi-plus-circle-fill\"], [1, \"text-center\"], [3, \"addProductModal\"], [3, \"id\", \"pr_name\", \"price\", \"pr_description\", \"closeEditModal\"], [3, \"productId\", \"productName\", \"closeDeleteModal\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ProductsComponent_a_1_Template, 3, 0, \"a\", 1);\n      i0.ɵɵtemplate(2, ProductsComponent_div_2_Template, 2, 0, \"div\", 2);\n      i0.ɵɵtemplate(3, ProductsComponent_app_add_product_3_Template, 1, 0, \"app-add-product\", 3);\n      i0.ɵɵtemplate(4, ProductsComponent_app_edit_product_4_Template, 1, 4, \"app-edit-product\", 4);\n      i0.ɵɵtemplate(5, ProductsComponent_app_delete_product_5_Template, 1, 2, \"app-delete-product\", 5);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.localToken);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayAddProductModal);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayEditProductModal);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayDeleteProductModal);\n    }\n  },\n  dependencies: [i3.NgIf, i4.AddProductComponent, i5.EditProductComponent, i6.DeleteProductComponent],\n  styles: [\".not-signed-in[_ngcontent-%COMP%]{\\n    font-size: 25px;\\n    text-align: center;\\n    position: absolute;\\n    top: 40%;\\n}\\n.all-products[_ngcontent-%COMP%]{\\n    font-size: 25px;\\n    text-align: center;\\n    position: absolute;\\n    top: 40%;\\n}\\n\\n.product-container[_ngcontent-%COMP%]   .all-products[_ngcontent-%COMP%]{\\n    height: 70vh;\\n    width: 90%;\\n    overflow-y: auto;\\n    margin: auto;\\n}\\n.all-products[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{\\n    height: auto;\\n    padding: 10px 0;\\n    overflow-y: auto;\\n    margin: 0 auto;\\n    padding-left: 0;\\n    list-style: none;\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: wrap;\\n    row-gap: 20px;\\n    column-gap: 5%;\\n    scrollbar-width: 4px; \\n    clear: both; \\n}\\n.product-container[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]::--webkit-scrollbar{\\n    width: 4px;\\n}\\n\\n.new-product-button[_ngcontent-%COMP%]{\\n    cursor: pointer;\\n    margin-right: 30px;\\n    float: right;\\n    margin-bottom: 30px;\\n}\\n\\n.card[_ngcontent-%COMP%]{\\n    background: #fff;\\n    box-shadow: 0px 5px 5px #dcdcdc75;\\n    height: 150px;\\n    max-width: 30%;\\n    width: 100%;\\n    min-width: 300px;\\n    border-radius: 12px;\\n    padding: 15px;\\n}\\n\\n.product-header[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n}\\n.product-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{\\n    font-size: 16px;\\n    text-decoration: none;\\n    cursor: pointer;\\n    color: black;\\n    font-weight: 700;\\n}\\n.product-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\n    text-decoration: none;\\n}\\n.options[_ngcontent-%COMP%]{\\n    display: flex;\\n    gap: 14px;\\n    align-items: center;\\n}\\n.options[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{\\n    cursor: pointer;\\n}\\n\\n.product-body[_ngcontent-%COMP%]{\\n    font-size: 14px;\\n    word-break: break-all;\\n}\\n\\n@media screen and (max-width: 700px) {\\n    .card[_ngcontent-%COMP%]{\\n        margin: 0 auto;\\n    }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdWN0cy9wcm9kdWN0cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsUUFBUTtBQUNaO0FBQ0E7SUFDSSxlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixRQUFRO0FBQ1o7O0FBRUE7SUFDSSxZQUFZO0lBQ1osVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixhQUFhO0lBQ2IsY0FBYztJQUNkLG9CQUFvQjtJQUNwQixXQUFXO0FBQ2Y7QUFDQTtJQUNJLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixpQ0FBaUM7SUFDakMsYUFBYTtJQUNiLGNBQWM7SUFDZCxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGVBQWU7SUFDZixxQkFBcUI7SUFDckIsZUFBZTtJQUNmLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLHFCQUFxQjtBQUN6QjtBQUNBO0lBQ0ksYUFBYTtJQUNiLFNBQVM7SUFDVCxtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0k7UUFDSSxjQUFjO0lBQ2xCO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIubm90LXNpZ25lZC1pbntcbiAgICBmb250LXNpemU6IDI1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDQwJTtcbn1cbi5hbGwtcHJvZHVjdHN7XG4gICAgZm9udC1zaXplOiAyNXB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA0MCU7XG59XG5cbi5wcm9kdWN0LWNvbnRhaW5lciAuYWxsLXByb2R1Y3Rze1xuICAgIGhlaWdodDogNzB2aDtcbiAgICB3aWR0aDogOTAlO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgbWFyZ2luOiBhdXRvO1xufVxuLmFsbC1wcm9kdWN0cz51bHtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgcGFkZGluZzogMTBweCAwO1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICByb3ctZ2FwOiAyMHB4O1xuICAgIGNvbHVtbi1nYXA6IDUlO1xuICAgIHNjcm9sbGJhci13aWR0aDogNHB4OyBcbiAgICBjbGVhcjogYm90aDsgXG59XG4ucHJvZHVjdC1jb250YWluZXI+dWw6Oi0td2Via2l0LXNjcm9sbGJhcntcbiAgICB3aWR0aDogNHB4O1xufVxuXG4ubmV3LXByb2R1Y3QtYnV0dG9ue1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG59XG5cbi5jYXJke1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgYm94LXNoYWRvdzogMHB4IDVweCA1cHggI2RjZGNkYzc1O1xuICAgIGhlaWdodDogMTUwcHg7XG4gICAgbWF4LXdpZHRoOiAzMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgbWluLXdpZHRoOiAzMDBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIHBhZGRpbmc6IDE1cHg7XG59XG5cbi5wcm9kdWN0LWhlYWRlcntcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLnByb2R1Y3QtaGVhZGVyIGgye1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBmb250LXdlaWdodDogNzAwO1xufVxuLnByb2R1Y3QtaGVhZGVyIGF7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuLm9wdGlvbnN7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDE0cHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5vcHRpb25zIGl7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucHJvZHVjdC1ib2R5e1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICB3b3JkLWJyZWFrOiBicmVhay1hbGw7XG59XG5cbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDcwMHB4KSB7XG4gICAgLmNhcmR7XG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductsComponent","constructor","api","router","addProductModal","value","displayAddProductModal","showEditModal","id","name","price","description","displayEditProductModal","p_id","p_name","p_price","p_desc","closeEditModal","showDeleteModal","displayDeleteProductModal","closeDeleteModal","ngOnInit","loading","localToken","localStorage","getItem","getAllProducts","subscribe","data","products","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/leom/Desktop/openfabric-angular-test/frontend/src/app/components/products/products.component.html","/Users/leom/Desktop/openfabric-angular-test/frontend/src/app/components/products/products.component.ts"],"sourcesContent":["<div class=\"product-container\" >\n\n    <a (click)=\"addProductModal(true)\" *ngIf=\"localToken\" class=\"btn btn-primary new-product-button\">\n        Add New Product &nbsp;\n        <i class=\"bi bi-plus-circle-fill\"></i>\n    </a>\n\n\n    <div *ngIf=\"loading\" class=\"text-center\">\n        loading...\n    </div>\n    <!-- <h1 *ngIf=\"!localToken\" class=\"not-signed-in\">\n        Sign Up or Login to see All products\n    </h1> -->\n    <!-- <h1 *ngIf=\"products.length === 0\" class=\"all-products-header\">\n        All Products are shown here, click the 'Add Product' button to get started\n    </h1>\n\n    <div class=\"all-products\" *ngIf=\"products.length > 0\">\n        <ul>\n            <li \n                *ngFor=\"let product of products; let idx = index\" \n                class=\"card\">\n                    <div class=\"product-header\">\n                        <a [routerLink]=\"['/product', idx]\">\n                            <h2>{{ product.name }}</h2>\n                        </a>\n                        <div class=\"options\" *ngIf=\"localToken\">\n                            <i\n                            (click)=\"showEditModal(product._id, product.name, product.price, product.description)\"\n                            class=\"bi bi-pencil-square text-primary\"></i>\n                            <i\n                            (click)=\"showDeleteModal(product._id, product.name)\"\n                            class=\"bi bi-trash3-fill text-danger\"></i>\n                        </div>\n                    </div>\n                    <p class=\"product-body\">{{ product.description }}</p>\n            </li>\n        </ul>\n    </div>\n    <!-- <div class=\"no-product\" [ngClass]=\"products.length === 0 ? 'd-block' : 'd-none' \">\n        Products will display here\n    </div>  -->\n\n    <app-add-product\n        *ngIf=\"displayAddProductModal\"\n        (addProductModal)=\"addProductModal(false)\"></app-add-product>\n    <app-edit-product\n        *ngIf=\"displayEditProductModal\"\n        [id]=\"p_id\"\n        [pr_name]=\"p_name\"\n        [price]=\"p_price\"\n        [pr_description]=\"p_desc\"\n        (closeEditModal)=\"closeEditModal()\"></app-edit-product>\n    <app-delete-product \n        *ngIf=\"displayDeleteProductModal\"\n        [productId]=\"p_id\"\n        [productName]=\"p_name\"\n        (closeDeleteModal)=\"closeDeleteModal()\"></app-delete-product>\n</div>\n","import { Component, Output, EventEmitter, OnInit } from '@angular/core';\nimport { AppServiceService } from 'src/app/service/app-service.service';\nimport { Router } from '@angular/router';\n\n\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css'],\n})\nexport class ProductsComponent implements OnInit {\n  products!: any;\n  loading = false;\n  localToken!: string | null;\n  p_id!: string;\n  p_name!: string;\n  p_price!: number;\n  p_desc!: string;\n  displayAddProductModal: boolean = false; //display button when user records exists in db\n  displayEditProductModal: boolean = false;\n  displayDeleteProductModal: boolean = false;\n\n\n  constructor( \n    private api: AppServiceService,\n    private router: Router\n    ){}\n\n\n\n\n  // toggle 'add product' modal\n  addProductModal(value: boolean){ \n    this.displayAddProductModal = value;\n  }\n\n // toggle 'edit product' modal \n  showEditModal(id: string, name: string, price: number, description: string){\n    this.displayEditProductModal = true;\n    this.p_id = id;\n    this.p_name = name;\n    this.p_price = price;\n    this.p_desc = description;\n  }\n  closeEditModal(){\n    this.displayEditProductModal = false;\n    this.p_id = '';\n    this.p_name = '';\n    this.p_price = 0;\n    this.p_desc = '';\n  }\n\n  // toggle 'delete product' modal\n  showDeleteModal(id: string, name: string){\n    this.displayDeleteProductModal = true;\n    this.p_id = id;\n    this.p_name = name;\n  }\n  closeDeleteModal(){\n    this.displayDeleteProductModal = false;\n    this.p_id = '';\n    this.p_name = '';\n  }\n\n\n\n  ngOnInit(): void {\n    this.loading = true;\n\n    this.localToken = localStorage.getItem('user_token');\n\n    if(!this.localToken){\n      this.loading = false;\n    }\n\n    this.api.getAllProducts().subscribe(data => {\n        this.loading = false;\n        this.products = data;\n        console.log(data);\n      })\n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}